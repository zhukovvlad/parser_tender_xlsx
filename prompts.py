"""
Модуль промптов для LLM-анализа тендерной документации.

Содержит шаблоны промптов для различных типов анализа:
- Классификация лотов по категориям
- Извлечение технических параметров
- Анализ нулевого цикла и инженерных систем
"""

# Промпт для классификации лотов
CLASSIFIER_PROMPT = """
Ты эксперт по строительству и тендерной документации. Твоя задача - классифицировать лот тендера по основным категориям строительных работ.

Основные категории:
1. "нулевой цикл" - земляные работы, фундаменты, подготовка территории
2. "инженерные сети" - водопровод, канализация, электрика, отопление, вентиляция
3. "конструкции" - железобетонные, металлические, деревянные конструкции
4. "отделка" - внутренние и наружные отделочные работы
5. "благоустройство" - дороги, тротуары, озеленение, малые архитектурные формы
6. "прочие" - работы, не подпадающие под другие категории

Анализируй следующий лот:
Название: {lot_title}
Описание работ: {lot_description}

Ответь только названием категории без дополнительных пояснений.
"""

# Промпт для анализа одной позиции
SINGLE_RECORD_CLASSIFIER_PROMPT = """
Ты эксперт по строительству. Проанализируй следующую позицию из тендерной документации и определи её категорию.

Позиция: {position_title}
Единица измерения: {unit}
Количество: {quantity}
Комментарий: {comment}

Определи категорию из списка:
- "нулевой цикл"
- "инженерные сети"
- "конструкции"
- "отделка"
- "благоустройство"
- "прочие"

Ответь только категорией.
"""

# Промпт для анализа работ нулевого цикла
GROUNDWORKS_CATEGORY_PROMPT = """
Ты эксперт по строительству нулевого цикла. Проанализируй следующие работы и извлеки ключевые технические параметры.

Работы нулевого цикла:
{groundworks_description}

Найди и извлеки следующие параметры (если они есть):
1. Глубина копания (м)
2. Объем грунта (м³)
3. Тип фундамента
4. Марка бетона
5. Толщина стены в грунте (мм)
6. Площадь фундамента (м²)

Ответь в формате JSON:
{
  "parameters": [
    {
      "parameter": "название параметра",
      "value": "значение",
      "unit": "единица измерения",
      "position": "название позиции откуда взят параметр"
    }
  ]
}
"""

# Промпт для извлечения технических параметров
TECHNICAL_PARAMETERS_PROMPT = """
Ты эксперт по строительству. Извлеки все технические параметры из следующего описания работ.

Описание работ:
{description}

Найди и извлеки все числовые параметры с единицами измерения, такие как:
- Размеры (длина, ширина, высота, толщина)
- Площади и объемы
- Массы и веса
- Технические характеристики материалов
- Температурные параметры
- Давления и нагрузки

Ответь в формате JSON:
{
  "parameters": [
    {
      "parameter": "название параметра",
      "value": "значение",
      "unit": "единица измерения",
      "category": "категория работ"
    }
  ]
}
"""

# Промпт для анализа инженерных сетей
ENGINEERING_SYSTEMS_PROMPT = """
Ты эксперт по инженерным системам. Проанализируй следующее описание и извлеки технические параметры инженерных сетей.

Описание инженерных систем:
{engineering_description}

Найди параметры для каждой системы:

Водопровод:
- Диаметр труб (мм)
- Давление (атм, бар)
- Расход (л/мин, м³/ч)
- Материал труб

Канализация:
- Диаметр труб (мм)
- Уклон (%)
- Производительность (л/с)

Электрика:
- Мощность (кВт, Вт)
- Напряжение (В)
- Сечение кабеля (мм²)

Отопление:
- Мощность (кВт)
- Температура (°C)
- Давление (атм)

Вентиляция:
- Производительность (м³/ч)
- Мощность вентиляторов (кВт)

Ответь в формате JSON с извлеченными параметрами.
"""

# Промпт для определения типа строительного объекта
BUILDING_TYPE_PROMPT = """
Определи тип строительного объекта на основе описания тендера.

Описание: {tender_description}
Адрес: {address}

Возможные типы:
- "жилое здание"
- "офисное здание"
- "промышленное здание"
- "социальный объект"
- "инфраструктурный объект"
- "благоустройство территории"
- "инженерные сети"
- "прочее"

Ответь только типом объекта.
"""

# Промпт для анализа стоимости
COST_ANALYSIS_PROMPT = """
Проанализируй стоимостную структуру тендера и выяви основные статьи расходов.

Данные о стоимости:
{cost_data}

Определи:
1. Самые дорогие виды работ
2. Долю материалов в общей стоимости
3. Долю работ в общей стоимости
4. Необычные или завышенные позиции

Ответь в формате JSON с анализом стоимости.
"""