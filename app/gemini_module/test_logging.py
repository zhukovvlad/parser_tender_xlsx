#!/usr/bin/env python3
"""
–¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏—è gemini_module.
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –ª–æ–≥–≥–µ—Ä–∞, –∑–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª –∏ –∫–æ–Ω—Å–æ–ª—å.
"""

import os
import sys
from pathlib import Path

# –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É
sys.path.insert(0, str(Path(__file__).parent.parent.parent))

from app.gemini_module.logger import setup_gemini_logger, get_gemini_logger


def test_logging_setup():
    """–¢–µ—Å—Ç–∏—Ä—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏—è."""
    print("üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏—è gemini_module")

    # –¢–µ—Å—Ç 1: –°–æ–∑–¥–∞–Ω–∏–µ –ª–æ–≥–≥–µ—Ä–∞
    print("\n1Ô∏è‚É£ –¢–µ—Å—Ç–∏—Ä—É—é —Å–æ–∑–¥–∞–Ω–∏–µ –ª–æ–≥–≥–µ—Ä–∞...")
    logger = setup_gemini_logger(log_level="DEBUG")

    # –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω–µ–π –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏—è
    print("2Ô∏è‚É£ –¢–µ—Å—Ç–∏—Ä—É—é —Ä–∞–∑–ª–∏—á–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏—è...")
    logger.debug("üîç DEBUG —Å–æ–æ–±—â–µ–Ω–∏–µ - –¥–µ—Ç–∞–ª–∏ —Ä–∞–±–æ—Ç—ã")
    logger.info("‚ÑπÔ∏è INFO —Å–æ–æ–±—â–µ–Ω–∏–µ - –æ–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è")
    logger.warning("‚ö†Ô∏è WARNING —Å–æ–æ–±—â–µ–Ω–∏–µ - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ")
    logger.error("‚ùå ERROR —Å–æ–æ–±—â–µ–Ω–∏–µ - –æ—à–∏–±–∫–∞")

    # –¢–µ—Å—Ç 3: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ª–æ–≥–≥–µ—Ä–∞
    print("3Ô∏è‚É£ –¢–µ—Å—Ç–∏—Ä—É—é –ø–æ–ª—É—á–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ª–æ–≥–≥–µ—Ä–∞...")
    logger2 = get_gemini_logger()
    logger2.info("‚úÖ –õ–æ–≥–≥–µ—Ä –ø–æ–ª—É—á–µ–Ω —É—Å–ø–µ—à–Ω–æ")

    # –¢–µ—Å—Ç 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–∞ –ª–æ–≥–æ–≤
    log_file = Path("logs/gemini.log")
    if log_file.exists():
        print(f"4Ô∏è‚É£ ‚úÖ –§–∞–π–ª –ª–æ–≥–æ–≤ —Å–æ–∑–¥–∞–Ω: {log_file}")
        print(f"   üìä –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: {log_file.stat().st_size} –±–∞–π—Ç")
    else:
        print("4Ô∏è‚É£ ‚ùå –§–∞–π–ª –ª–æ–≥–æ–≤ –Ω–µ —Å–æ–∑–¥–∞–Ω")

    print("\nüéâ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!")


if __name__ == "__main__":
    test_logging_setup()
